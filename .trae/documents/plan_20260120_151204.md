# 实现拖拽创建连线功能

## 问题分析
当前连接创建是通过两次点击实现的（第一次点击输出端口，第二次点击输入端口），没有拖拽过程和实时连线跟随效果。

## 解决方案
重新设计连接创建流程，实现拖拽式连线创建：
1. 点击输出端口并按住鼠标开始拖拽
2. 拖拽过程中，连线末端实时跟随鼠标位置
3. 松开左键时判断鼠标位置：
   - 如果在输入端口上，创建连接
   - 否则，取消连接，连线消失

## 实现步骤

1. **修改连接点事件处理**
   - 将 `onClick` 改为 `onMouseDown` + `onMouseUp` 组合
   - 实现拖拽开始、拖拽中和拖拽结束的完整流程

2. **更新连接状态管理**
   - 在 `onMouseDown` 时设置连接开始状态
   - 在 `onMouseMove` 时实时更新鼠标位置
   - 在 `onMouseUp` 时判断是否完成连接

3. **优化临时连线渲染**
   - 确保临时连线实时跟随鼠标位置
   - 改进连线样式，提供更好的视觉反馈

4. **添加连接验证**
   - 检查拖拽结束时鼠标是否在输入端口上
   - 验证连接的有效性
   - 处理连接成功和失败的情况

5. **清理事件监听**
   - 确保拖拽过程中的事件监听正确清理
   - 避免内存泄漏和事件冲突

## 代码修改点

1. **Node组件**：
   - 修改连接点的事件处理器
   - 添加拖拽状态管理
   - 实现连接创建逻辑

2. **Canvas组件**：
   - 优化临时连线渲染
   - 添加全局鼠标事件监听
   - 处理画布上的鼠标释放事件

3. **事件处理流程**：
   - `onMouseDown` (输出端口)：开始连接创建
   - `onMouseMove`：更新临时连线终点
   - `onMouseUp`：判断并完成连接

## 预期效果
- 点击输出端口拖拽时，显示实时跟随鼠标的连线
- 拖拽到输入端口松开，成功创建连接
- 拖拽到空白处松开，连线消失，连接无效
- 提供清晰的视觉反馈，提升用户体验